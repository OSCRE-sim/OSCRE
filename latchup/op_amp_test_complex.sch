v {xschem version=3.4.5 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
L 4 2320 150 2320 310 {}
L 4 2770 150 2770 310 {}
L 4 2320 310 2720 310 {}
L 4 2720 310 2770 310 {}
L 4 2320 80 2320 150 {}
L 4 2320 80 2770 80 {}
L 4 2770 80 2770 150 {}
L 4 2000 80 2320 80 {}
L 4 2000 80 2000 370 {}
L 4 2000 370 2800 370 {}
L 4 2800 80 2800 370 {}
L 4 2770 80 2800 80 {}
L 4 2410 240 2410 340 {}
L 4 2560 240 2560 340 {}
T {N-WELL} 2680 280 0 0 0.4 0.4 {}
N 140 -240 140 -210 {
lab=VDD}
N 30 -160 30 -130 {
lab=VSS}
N 30 -70 30 -40 {
lab=GND}
N 140 -70 140 -20 {
lab=VSS}
N 1070 460 1070 510 {
lab=VSS}
N 730 460 730 510 {
lab=VSS}
N 770 430 870 430 {
lab=VB}
N 730 370 730 400 {
lab=VB}
N 730 390 820 390 {
lab=VB}
N 820 390 820 430 {
lab=VB}
N 730 270 730 310 {
lab=VDD}
N 710 430 730 430 {
lab=VSS}
N 710 430 710 470 {
lab=VSS}
N 710 470 730 470 {
lab=VSS}
N 1070 430 1090 430 {
lab=#net1}
N 870 430 1030 430 {
lab=VB}
N 1070 370 1070 400 {
lab=VS}
N 1070 370 1170 370 {
lab=VS}
N 970 370 1070 370 {
lab=VS}
N 970 340 1170 340 {
lab=VBN}
N 970 250 970 310 {
lab=VMIRR}
N 1170 250 1170 310 {
lab=VOUT}
N 970 280 1070 280 {
lab=VMIRR}
N 960 220 970 220 {
lab=VBP}
N 1170 220 1180 220 {
lab=VBP}
N 1010 220 1130 220 {
lab=VMIRR}
N 1070 220 1070 280 {
lab=VMIRR}
N 970 170 970 190 {
lab=VDD}
N 1170 170 1170 190 {
lab=VDD}
N 1170 280 1230 280 {
lab=VOUT}
N 1210 340 1250 340 {
lab=VINP}
N 890 340 930 340 {
lab=VINN}
N 280 -70 280 -20 {
lab=VSS}
N 280 -180 280 -130 {
lab=VINP}
N 470 -70 470 -20 {
lab=VSS}
N 470 -180 470 -130 {
lab=VINN}
N 850 490 850 510 {
lab=VSS}
N 690 -70 690 -20 {
lab=VSS}
N 690 -180 690 -130 {
lab=VIN}
N 1070 910 1070 960 {
lab=VSS}
N 730 910 730 960 {
lab=VSS}
N 770 880 870 880 {
lab=VB_OTHER}
N 730 820 730 850 {
lab=VB_OTHER}
N 730 840 820 840 {
lab=VB_OTHER}
N 820 840 820 880 {
lab=VB_OTHER}
N 730 720 730 760 {
lab=VDD}
N 710 880 730 880 {
lab=VSS}
N 710 880 710 920 {
lab=VSS}
N 710 920 730 920 {
lab=VSS}
N 1070 880 1090 880 {
lab=VSS}
N 870 880 1030 880 {
lab=VB_OTHER}
N 1070 820 1070 850 {
lab=VS_OTHER}
N 1070 820 1170 820 {
lab=VS_OTHER}
N 970 820 1070 820 {
lab=VS_OTHER}
N 970 790 1170 790 {
lab=VSS}
N 970 700 970 760 {
lab=#net2}
N 1170 700 1170 760 {
lab=VOUT_OTHER}
N 970 730 1070 730 {
lab=#net2}
N 960 670 970 670 {
lab=VDD}
N 1170 670 1180 670 {
lab=VDD}
N 1010 670 1130 670 {
lab=#net2}
N 1070 670 1070 730 {
lab=#net2}
N 970 620 970 640 {
lab=VDD}
N 1170 620 1170 640 {
lab=VDD}
N 1170 730 1230 730 {
lab=VOUT_OTHER}
N 1210 790 1250 790 {
lab=VINP}
N 890 790 930 790 {
lab=VINN}
N 850 940 850 960 {
lab=VSS}
N 140 -150 140 -130 {
lab=VDD}
N 140 -210 140 -150 {
lab=VDD}
N 1090 430 1170 430 {
lab=#net1}
N 1230 430 1310 430 {
lab=VBN}
N 2470 240 2480 240 {
lab=VBD}
N 2620 240 2630 240 {
lab=VBP}
N 2540 240 2620 240 {
lab=VBP}
N 2390 240 2470 240 {
lab=VBD}
N 2390 200 2390 240 {
lab=VBD}
N 2390 240 2390 280 {
lab=VBD}
N 2380 280 2390 280 {
lab=VBD}
N 2380 200 2390 200 {
lab=VBD}
N 2210 200 2320 200 {
lab=#net3}
N 2310 280 2320 280 {
lab=#net4}
N 2380 340 2480 340 {
lab=#net5}
N 2540 340 2580 340 {
lab=#net6}
N 2580 270 2580 340 {
lab=#net6}
N 2430 270 2430 340 {
lab=#net5}
N 2280 320 2280 340 {
lab=#net7}
N 2280 340 2320 340 {
lab=#net7}
N 2240 340 2280 340 {
lab=#net7}
N 2140 340 2180 340 {
lab=VBN}
N 2170 200 2210 200 {
lab=#net3}
N 2100 340 2140 340 {
lab=VBN}
N 2140 240 2140 340 {
lab=VBN}
N 2250 110 2250 280 {
lab=VOUT}
N 2110 110 2110 200 {
lab=VSS}
N 2020 340 2040 340 {
lab=VSS}
N 2020 110 2020 340 {
lab=VSS}
N 2430 110 2430 210 {
lab=VOUT}
N 2580 110 2580 210 {
lab=VDD}
N 2690 240 2710 240 {
lab=VDD}
N 2710 110 2710 240 {
lab=VDD}
N 2580 40 2580 110 {
lab=VDD}
N 2430 40 2430 110 {
lab=VOUT}
N 2710 40 2710 110 {
lab=VDD}
N 2580 40 2710 40 {
lab=VDD}
N 2250 40 2250 110 {
lab=VOUT}
N 2250 40 2430 40 {
lab=VOUT}
N 2110 40 2110 110 {
lab=VSS}
N 2020 40 2110 40 {
lab=VSS}
N 2020 40 2020 110 {
lab=VSS}
N 2560 330 2560 340 {
lab=#net6}
C {code_shown.sym} -25 260 0 0 {name=s1 only_toplevel=false value="
.options savecurrents
.ic V(VBP)=1.8 V(VBN)=0
.tran 1p 25n 0n
.save all
"}
C {code.sym} -180 80 0 0 {name=sT_MODELS
only_toplevel=true
format="tcleval( @value )"
value="
** opencircuitdesign pdks install
.lib $::SKYWATER_MODELS/sky130.lib.spice tt

"
spice_ignore=false}
C {code.sym} -170 230 0 0 {name=include only_toplevel=false value="
.include /usr/local/share/rad_modeling_blocks/rad_modeling_blocks.spice
"}
C {sky130_fd_pr/nfet_01v8.sym} 1050 430 0 0 {name=M2
W=80
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {vsource.sym} 140 -100 0 0 {name=V1 value=1.8 savecurrent=false}
C {lab_pin.sym} 140 -240 0 0 {name=p7 sig_type=std_logic lab=VDD}
C {vsource.sym} 30 -100 0 0 {name=V2 value=0 savecurrent=false}
C {lab_pin.sym} 30 -160 0 0 {name=p3 sig_type=std_logic lab=VSS}
C {gnd.sym} 30 -40 0 0 {name=l1 lab=GND}
C {lab_pin.sym} 140 -20 0 0 {name=p30 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 1070 510 0 0 {name=p2 sig_type=std_logic lab=VSS}
C {sky130_fd_pr/nfet_01v8.sym} 750 430 0 1 {name=M1
W=80
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 730 510 0 0 {name=p4 sig_type=std_logic lab=VSS}
C {isource.sym} 730 340 0 0 {name=I0 value=100u}
C {lab_pin.sym} 730 270 0 0 {name=p5 sig_type=std_logic lab=VDD}
C {sky130_fd_pr/nfet_01v8.sym} 950 340 0 0 {name=M3
W=7
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1190 340 0 1 {name=M4
W=7
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 1070 340 1 0 {name=p1 sig_type=std_logic lab=VBN}
C {sky130_fd_pr/pfet_01v8.sym} 990 220 0 1 {name=M5
W=19
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1150 220 0 0 {name=M6
W=19
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 960 220 2 1 {name=p6 sig_type=std_logic lab=VBP}
C {lab_pin.sym} 1180 220 0 1 {name=p8 sig_type=std_logic lab=VBP}
C {lab_pin.sym} 1170 170 0 1 {name=p9 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 970 170 2 1 {name=p10 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 1230 280 0 1 {name=p11 sig_type=std_logic lab=VOUT}
C {lab_pin.sym} 1250 340 0 1 {name=p12 sig_type=std_logic lab=VINP}
C {lab_pin.sym} 890 340 2 1 {name=p13 sig_type=std_logic lab=VINN}
C {vsource.sym} 280 -100 0 0 {name=V4 value="SIN(0.8 0.01 1e8)" savecurrent=false}
C {lab_pin.sym} 280 -20 0 0 {name=p16 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 280 -180 0 0 {name=p14 sig_type=std_logic lab=VINP}
C {vsource.sym} 470 -100 0 0 {name=V3 value="SIN(0.8 0.01 1e8 0 0 180)" savecurrent=false}
C {lab_pin.sym} 470 -20 0 0 {name=p15 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 470 -180 0 0 {name=p17 sig_type=std_logic lab=VINN}
C {lab_pin.sym} 1070 380 0 1 {name=p18 sig_type=std_logic lab=VS}
C {lab_pin.sym} 900 430 3 1 {name=p19 sig_type=std_logic lab=VB}
C {capa.sym} 850 460 0 0 {name=C1
m=1
value=1n
footprint=1206
device="ceramic capacitor"}
C {lab_pin.sym} 850 510 0 0 {name=p20 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 1310 430 2 0 {name=p23 sig_type=std_logic lab=VBN}
C {vsource.sym} 690 -100 0 0 {name=V5 value="SIN(0.8 0.02 1e6)" savecurrent=false}
C {lab_pin.sym} 690 -20 0 0 {name=p28 sig_type=std_logic lab=VSS
value="SIN(0.8 0.02 1e6)"}
C {lab_pin.sym} 690 -180 0 0 {name=p29 sig_type=std_logic lab=VIN}
C {sky130_fd_pr/nfet_01v8.sym} 1050 880 0 0 {name=M7
W=80
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 1070 960 0 0 {name=p31 sig_type=std_logic lab=VSS}
C {sky130_fd_pr/nfet_01v8.sym} 750 880 0 1 {name=M8
W=80
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 730 960 0 0 {name=p32 sig_type=std_logic lab=VSS}
C {isource.sym} 730 790 0 0 {name=I1 value=100u}
C {lab_pin.sym} 730 720 0 0 {name=p33 sig_type=std_logic lab=VDD}
C {sky130_fd_pr/nfet_01v8.sym} 950 790 0 0 {name=M9
W=7
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1190 790 0 1 {name=M10
W=7
L=0.15
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 1070 790 1 0 {name=p34 sig_type=std_logic lab=VSS}
C {sky130_fd_pr/pfet_01v8.sym} 990 670 0 1 {name=M11
W=19
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8.sym} 1150 670 0 0 {name=M12
W=19
L=0.15
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 960 670 2 1 {name=p35 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 1180 670 0 1 {name=p36 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 1170 620 0 1 {name=p37 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 970 620 2 1 {name=p38 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 1230 730 0 1 {name=p39 sig_type=std_logic lab=VOUT_OTHER}
C {lab_pin.sym} 1250 790 0 1 {name=p40 sig_type=std_logic lab=VINP}
C {lab_pin.sym} 890 790 2 1 {name=p41 sig_type=std_logic lab=VINN}
C {lab_pin.sym} 1070 830 0 1 {name=p42 sig_type=std_logic lab=VS_OTHER}
C {lab_pin.sym} 900 880 3 1 {name=p43 sig_type=std_logic lab=VB_OTHER}
C {capa.sym} 850 910 0 0 {name=C2
m=1
value=1n
footprint=1206
device="ceramic capacitor"}
C {lab_pin.sym} 850 960 0 0 {name=p44 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 1090 880 2 0 {name=p45 sig_type=std_logic lab=VSS}
C {code_shown.sym} 25 70 0 0 {name=s2 only_toplevel=false value="
.model npn_cust npn (IS=1e-18 BF=100 VAF=50 IKF=0.01 CJE=0.2p CJC=0.1p TF=0.2n TR=2n)
.model pnp_cust pnp (IS=1e-18 BF=100 VAF=50 IKF=0.01 CJE=0.3p CJC=0.15p TF=0.3n TR=3n)
"}
C {lab_pin.sym} 1080 220 3 1 {name=p21 sig_type=std_logic lab=VMIRR}
C {res.sym} 1200 430 3 0 {name=R7
value=0
footprint=1206
device=resistor
m=1}
C {pnp.sym} 2450 240 0 1 {name=Q3
model=pnp_cust
area=1
m=1}
C {pnp.sym} 2600 240 0 1 {name=Q4
model=pnp_cust
area=1
m=1}
C {res.sym} 2510 240 1 0 {name=R8
value=5
footprint=1206
device=resistor
m=1}
C {res.sym} 2660 240 1 0 {name=R9
value=1000
footprint=1206
device=resistor
m=1}
C {res.sym} 2510 340 1 0 {name=R10
value=1
footprint=1206
device=resistor
m=1}
C {res.sym} 2350 280 1 0 {name=R11
value=5
footprint=1206
device=resistor
m=1}
C {res.sym} 2350 200 1 0 {name=R12
value=5
footprint=1206
device=resistor
m=1}
C {npn.sym} 2280 300 1 1 {name=Q5
model=npn_cust
area=1
m=1}
C {npn.sym} 2140 220 1 1 {name=Q6
model=npn_cust
area=1
m=1}
C {res.sym} 2350 340 1 0 {name=R13
value=1
footprint=1206
device=resistor
m=1}
C {res.sym} 2210 340 1 0 {name=R14
value=1
footprint=1206
device=resistor
m=1}
C {res.sym} 2070 340 1 0 {name=R15
value=1000
footprint=1206
device=resistor
m=1}
C {double_exp.sym} 2560 180 1 0 {name=x3 t_r=5n t_f=10n tau_r=100p tau_f=100p q_tot=5p}
C {lab_pin.sym} 2580 50 0 0 {name=p22 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 2020 50 0 0 {name=p24 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 2550 240 1 0 {name=p25 sig_type=std_logic lab=VBP
}
C {lab_pin.sym} 2160 340 1 0 {name=p26 sig_type=std_logic lab=VBN
}
C {lab_pin.sym} 2250 40 0 0 {name=p27 sig_type=std_logic lab=VOUT}
C {lab_pin.sym} 2410 240 1 0 {name=p54 sig_type=std_logic lab=VBD
}
